javascript:(function(){var isRecording=false;var steps=[];var storageKey='selenium_steps';function saveSteps(){localStorage.setItem(storageKey,JSON.stringify(steps))}function loadSteps(){var data=localStorage.getItem(storageKey);if(data){try{steps=JSON.parse(data)}catch(e){steps=[]}}}function getCoordinates(event){const x=event.clientX;const y=event.clientY;const absX=x+window.pageXOffset;const absY=y+window.pageYOffset;return{x:absX,y:absY}}function handleClick(event){if(event.target.id==='seleniumRecorderBtn'||event.target.id==='seleniumRecorderDownload'||!isRecording){return}var coords=getCoordinates(event);steps.push({action:'click',x:coords.x,y:coords.y});saveSteps();updateButtonText()}function handleInput(event){if(!isRecording)return;var element=event.target;if(element.tagName==='INPUT'||element.tagName==='TEXTAREA'){var rect=element.getBoundingClientRect();var x=rect.left+rect.width/2+window.pageXOffset;var y=rect.top+rect.height/2+window.pageYOffset;steps.push({action:'input',x:x,y:y,value:element.value});saveSteps();updateButtonText()}}function createButton(){var oldButton=document.getElementById('seleniumRecorderBtn');if(oldButton)oldButton.remove();var button=document.createElement('button');button.id='seleniumRecorderBtn';button.innerHTML=isRecording?'Stop Recording ('+steps.length+' steps)':'Start Recording';button.style.position='fixed';button.style.top='10px';button.style.right='10px';button.style.zIndex='9999999';button.style.padding='10px';button.style.background=isRecording?'#ff4444':'#44aa44';button.style.color='white';button.style.border='none';button.style.borderRadius='4px';button.style.cursor='pointer';button.onclick=toggleRecording;document.body.appendChild(button)}function updateButtonText(){var button=document.getElementById('seleniumRecorderBtn');if(button){button.innerHTML=isRecording?'Stop Recording ('+steps.length+' steps)':'Start Recording'}}function startRecording(){isRecording=true;steps=[];var screenWidth=window.screen.width;var screenHeight=window.screen.height;var browserWidth=window.innerWidth;var browserHeight=window.innerHeight;steps.push({action:'setup',screenWidth:screenWidth,screenHeight:screenHeight,browserWidth:browserWidth,browserHeight:browserHeight});saveSteps();document.addEventListener('click',handleClick,true);document.addEventListener('change',handleInput,true);createButton();alert('Recording started! Screen: '+screenWidth+'x'+screenHeight+', Browser: '+browserWidth+'x'+browserHeight)}function stopRecording(){isRecording=false;document.removeEventListener('click',handleClick,true);document.removeEventListener('change',handleInput,true);createButton();generateScript()}function toggleRecording(){if(isRecording){stopRecording()}else{startRecording()}}function generateScript(){if(steps.length===0){alert('No steps recorded!');return}var screenWidth=1920;var screenHeight=1080;var browserWidth=1366;var browserHeight=768;for(var i=0;i<steps.length;i++){if(steps[i].action==='setup'){screenWidth=steps[i].screenWidth;screenHeight=steps[i].screenHeight;browserWidth=steps[i].browserWidth;browserHeight=steps[i].browserHeight;break}}var url=window.location.href;var code=['from selenium import webdriver','from selenium.webdriver.common.by import By','from selenium.webdriver.common.keys import Keys','from selenium.webdriver.support.ui import WebDriverWait','from selenium.webdriver.support import expected_conditions as EC','from selenium.webdriver.common.action_chains import ActionChains','import time\n','class ScreenshotTaker:','    def __init__(self, driver):','        self.driver = driver','        self.screenshot_count = 0','','    def save_screenshot(self, _sub_step=""):','        self.screenshot_count += 1','        filename = f"step_{self.screenshot_count}"','        if _sub_step:','            filename += f"_{_sub_step}"','        filename += ".png"','        self.driver.save_screenshot(filename)','        print(f"Screenshot saved: {filename}")\n','# Initialize the WebDriver','options = webdriver.ChromeOptions()','# Set window size to match recording dimensions','options.add_argument(f"--window-size={'+browserWidth+','+browserHeight+'}")','# Set screen size (for headless mode if used)','options.add_argument(f"--start-maximized")','driver = webdriver.Chrome(options=options)','screenshot_taker = ScreenshotTaker(driver)','','# Explicitly set window size again to ensure accuracy','driver.set_window_size('+screenWidth+', '+screenHeight+')','print(f"Running on screen resolution: '+screenWidth+'x'+screenHeight+'")','print(f"Browser window set to: '+browserWidth+'x'+browserHeight+'")','','# Navigate to the page','driver.get("'+url+'")','time.sleep(2)  # Wait for page to load\n','# Reset mouse position to (0,0)','ActionChains(driver).move_to_element(driver.find_element(By.TAG_NAME, "body")).perform()\n'];for(var i=0;i<steps.length;i++){var step=steps[i];if(step.action==='setup')continue;code.push('# Step '+(i+1));if(step.action==='click'){code.push('try:');code.push('    actions = ActionChains(driver)');code.push('    actions.move_by_offset('+step.x+', '+step.y+').click().perform()');code.push('    time.sleep(0.5)');code.push('    # Move mouse back to reset position');code.push('    actions.move_by_offset(-'+step.x+', -'+step.y+').perform()');code.push('except Exception as e:');code.push('    print(f"Error clicking at coordinates ('+step.x+', '+step.y+'): {e}")');code.push('time.sleep(1)  # Pause between actions\n')}else if(step.action==='input'){var value=step.value.replace(/"/g,'\\"');code.push('try:');code.push('    actions = ActionChains(driver)');code.push('    actions.move_by_offset('+step.x+', '+step.y+').click().perform()');code.push('    active_element = driver.switch_to.active_element');code.push('    active_element.clear()');code.push('    active_element.send_keys("'+value+'")');code.push('    time.sleep(0.5)');code.push('    # Move mouse back to reset position');code.push('    actions.move_by_offset(-'+step.x+', -'+step.y+').perform()');code.push('except Exception as e:');code.push('    print(f"Error inputting at coordinates ('+step.x+', '+step.y+'): {e}")');code.push('time.sleep(1)  # Pause between actions\n')}}code.push('print("Script completed successfully!")');code.push('# driver.quit()  # Uncomment to close browser when done');var pythonCode=code.join('\n');copyToClipboard(pythonCode);createDownloadLink(pythonCode)}function copyToClipboard(text){var textarea=document.createElement('textarea');textarea.value=text;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();try{var successful=document.execCommand('copy');if(successful){alert('Selenium script copied to clipboard!')}else{alert('Unable to copy to clipboard. Script is available for download.')}}catch(err){alert('Unable to copy to clipboard. Script is available for download.')}document.body.removeChild(textarea)}function createDownloadLink(text){var oldLink=document.getElementById('seleniumRecorderDownload');if(oldLink)oldLink.remove();var downloadLink=document.createElement('a');downloadLink.id='seleniumRecorderDownload';downloadLink.innerHTML='Download Selenium Script';downloadLink.style.position='fixed';downloadLink.style.top='50px';downloadLink.style.right='10px';downloadLink.style.zIndex='9999999';downloadLink.style.padding='10px';downloadLink.style.background='#4477ff';downloadLink.style.color='white';downloadLink.style.border='none';downloadLink.style.borderRadius='4px';downloadLink.style.cursor='pointer';downloadLink.style.textDecoration='none';var blob=new Blob([text],{type:'text/plain'});var url=URL.createObjectURL(blob);downloadLink.href=url;downloadLink.download='selenium_script.py';downloadLink.onclick=function(){setTimeout(function(){URL.revokeObjectURL(url)},100)};document.body.appendChild(downloadLink)}loadSteps();createButton()})();